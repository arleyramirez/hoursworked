<router-outlet></router-outlet>

<div class="container" style="padding-top: 50px;">
  <div class="row">
    <div class="col-sm-6">
      <h2>Registro de servicios</h2>
      <form [formGroup]="hoursWorkedForm" (ngSubmit)="saveService()">
        <div class="form-group">
          <label>Identificaci&oacute;n del reporte</label>
          <input type="text" formControlName="idReport" class="form-control">
          <mat-error *ngIf="!hoursWorkedForm.controls.idReport.valid">Campo requerido</mat-error>
        </div>
        <div class="form-group">
          <label>Identificaci&oacute;n del t&eacute;cnico</label>
          <input type="text" formControlName="idTechnical" class="form-control">
          <mat-error *ngIf="!hoursWorkedForm.controls.idTechnical.valid">Campo requerido</mat-error>
        </div>
        <div>
          <label>Fecha y hora inicial del servicio</label>
          <input type="datetime-local" formControlName="startDate" class="form-control">
          <mat-error *ngIf="!hoursWorkedForm.controls.startDate.valid">Campo requerido</mat-error>
        </div>
        <div>
          <label for="endDate">Fecha y hora final del servicio</label>
          <input type="datetime-local" formControlName="endDate" class="form-control">
          <mat-error *ngIf="hoursWorkedForm.controls.endDate.hasError('required')">Campo requerido</mat-error>
          <mat-error *ngIf="hoursWorkedForm.controls.endDate.hasError('oldDate')">La fecha fin debe ser mayor a la hora inicio del servicio</mat-error>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="hoursWorkedForm.invalid">Guardar</button>
      </form>

      <div class="table-responsive">          
        <table class="table">
          <thead>
            <tr>
              <th>Id Reporte</th>
              <th>Id Tecnico</th>
              <th>Fecha y hora inicial del servicio</th>
              <th>Fecha y hora final del servicio</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="resultSaveHoursWorked.length>0">
              <td>{{resultSaveHoursWorked[0].idReport}}</td>
              <td>{{resultSaveHoursWorked[0].idTechnical}}</td>
              <td>{{resultSaveHoursWorked[0].startDate}}</td>
              <td>{{resultSaveHoursWorked[0].endDate}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col-sm-6">
      <h2>Consulta de horas trabajadas</h2>
      <form [formGroup]="consultingHoursForm" (ngSubmit)="getHours()">
        <div class="form-group">
          <label>Identificaci&oacute;n del t&eacute;cnico</label>
          <input type="text" formControlName="idTechnicalConsulting" class="form-control">
          <mat-error *ngIf="!consultingHoursForm.controls.idTechnicalConsulting.valid">Campo requerido</mat-error>
        </div>
        <div class="form-group">
          <label>Semana n&uacute;mero</label>
          <input type="number" formControlName="numberWeek" class="form-control">
          <mat-error *ngIf="!consultingHoursForm.controls.numberWeek.valid">Campo requerido</mat-error>
        </div>
      
        <button type="submit" class="btn btn-primary" [disabled]="consultingHoursForm.invalid">Consultar</button>
      </form>
      <h2>Resumen horas trabajadas</h2>
      <h4>Identificación del técnico: {{resultHoursWorked.idTechnical}}</h4>
      <h4>Número de la semana: {{resultHoursWorked.weekNumber}}</h4>
      <h4>Total horas trabajada en la semana: {{resultHoursWorked.totalHours}}</h4>
      <hr>
      <div class="table-responsive">          
        <table class="table">
          <thead>
            <tr>
              <th>Horas dia</th>
              <th>Horas noche</th>
              <th>Horas dominicales</th>
              <th>Extras dia</th>
              <th>Extras noche</th>
              <th>Extra dominicales</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="resultHoursWorked">
              <td>{{resultHoursWorked.dayHours}}</td>
              <td>{{resultHoursWorked.nightHours}}</td>
              <td>{{resultHoursWorked.sundayHours}}</td>
              <td>{{resultHoursWorked.extraDayHours}}</td>
              <td>{{resultHoursWorked.extraNightHours}}</td>
              <td>{{resultHoursWorked.extraSundayHours}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>